<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>AkingSPICE GPU Test</title>
</head>
<body>
    <h1>AkingSPICE GPU 求解器測試</h1>
    <div id="log"></div>
    
    <script src="./lib-dist/AkingSPICE.umd.js"></script>
    <script>
        const log = document.getElementById('log');
        
        function addLog(message) {
            log.innerHTML += message + '<br>';
        }
        
        // 測試庫是否正確載入
        addLog('🔍 檢查 AkingSPICE 庫載入...');
        if (typeof AkingSPICE !== 'undefined') {
            addLog('✅ AkingSPICE 庫載入成功');
            addLog(`📦 可用類別: ${Object.keys(AkingSPICE).join(', ')}`);
            
            // 檢查 GPU 求解器
            if (AkingSPICE.GPUExplicitStateSolver) {
                addLog('✅ GPUExplicitStateSolver 可用');
                
                // 測試創建實例
                try {
                    const gpuSolver = new AkingSPICE.GPUExplicitStateSolver({
                        debug: true,
                        timeStep: 50e-9
                    });
                    addLog('✅ GPU 求解器實例創建成功');
                } catch (error) {
                    addLog(`❌ GPU 求解器創建失敗: ${error.message}`);
                }
            } else {
                addLog('❌ GPUExplicitStateSolver 不可用');
            }
            
            // 檢查其他關鍵組件
            const requiredComponents = ['VoltageSource', 'Resistor', 'Capacitor', 'Inductor', 'VoltageControlledMOSFET'];
            requiredComponents.forEach(comp => {
                if (AkingSPICE[comp]) {
                    addLog(`✅ ${comp} 可用`);
                } else {
                    addLog(`❌ ${comp} 不可用`);
                }
            });
            
        } else {
            addLog('❌ AkingSPICE 庫載入失敗');
        }
    </script>
</body>
</html>