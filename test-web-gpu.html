<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>AkingSPICE GPU Test</title>
</head>
<body>
    <h1>AkingSPICE GPU æ±‚è§£å™¨æ¸¬è©¦</h1>
    <div id="log"></div>
    
    <script src="./lib-dist/AkingSPICE.umd.js"></script>
    <script>
        const log = document.getElementById('log');
        
        function addLog(message) {
            log.innerHTML += message + '<br>';
        }
        
        // æ¸¬è©¦åº«æ˜¯å¦æ­£ç¢ºè¼‰å…¥
        addLog('ğŸ” æª¢æŸ¥ AkingSPICE åº«è¼‰å…¥...');
        if (typeof AkingSPICE !== 'undefined') {
            addLog('âœ… AkingSPICE åº«è¼‰å…¥æˆåŠŸ');
            addLog(`ğŸ“¦ å¯ç”¨é¡åˆ¥: ${Object.keys(AkingSPICE).join(', ')}`);
            
            // æª¢æŸ¥ GPU æ±‚è§£å™¨
            if (AkingSPICE.GPUExplicitStateSolver) {
                addLog('âœ… GPUExplicitStateSolver å¯ç”¨');
                
                // æ¸¬è©¦å‰µå»ºå¯¦ä¾‹
                try {
                    const gpuSolver = new AkingSPICE.GPUExplicitStateSolver({
                        debug: true,
                        timeStep: 50e-9
                    });
                    addLog('âœ… GPU æ±‚è§£å™¨å¯¦ä¾‹å‰µå»ºæˆåŠŸ');
                } catch (error) {
                    addLog(`âŒ GPU æ±‚è§£å™¨å‰µå»ºå¤±æ•—: ${error.message}`);
                }
            } else {
                addLog('âŒ GPUExplicitStateSolver ä¸å¯ç”¨');
            }
            
            // æª¢æŸ¥å…¶ä»–é—œéµçµ„ä»¶
            const requiredComponents = ['VoltageSource', 'Resistor', 'Capacitor', 'Inductor', 'VoltageControlledMOSFET'];
            requiredComponents.forEach(comp => {
                if (AkingSPICE[comp]) {
                    addLog(`âœ… ${comp} å¯ç”¨`);
                } else {
                    addLog(`âŒ ${comp} ä¸å¯ç”¨`);
                }
            });
            
        } else {
            addLog('âŒ AkingSPICE åº«è¼‰å…¥å¤±æ•—');
        }
    </script>
</body>
</html>