# ğŸ§ª AkingSPICE 2.1 é€šç”¨æµ‹è¯•æ¡†æ¶

ç»Ÿä¸€çš„æµ‹è¯•æœºåˆ¶ï¼Œæ”¯æŒä¸€é”®éªŒè¯æ‰€æœ‰ç³»ç»ŸåŠŸèƒ½ã€‚

## ğŸ¯ å¿«é€Ÿå¼€å§‹

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm run test:all

# å¿«é€Ÿæµ‹è¯• (è·³è¿‡æ€§èƒ½æµ‹è¯•)
npm run test:quick

# è¯¦ç»†è¾“å‡ºæ¨¡å¼
npm run test:verbose

# ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
npm run test:report
```

## ğŸ“Š æµ‹è¯•ç±»åˆ«

### ğŸ›ï¸ æ¶æ„éªŒè¯ (Architecture)
- ç›®å½•ç»“æ„å®Œæ•´æ€§
- å±‚æ¬¡åˆ†ç¦»éªŒè¯  
- ç»„ä»¶æ¥å£ç»Ÿä¸€æ€§
- æ ¸å¿ƒç®—æ³•çº¯å‡€æ€§
- ä¾èµ–å…³ç³»å¥åº·åº¦

### ğŸ”§ ç»„ä»¶åŠŸèƒ½ (Components) 
- åŸºç¡€ç»„ä»¶æ–‡ä»¶å®Œæ•´æ€§
- ç”µé˜»å™¨åŠŸèƒ½æµ‹è¯• (æ¬§å§†å®šå¾‹)
- ç”µå®¹å™¨åŠŸèƒ½æµ‹è¯• (å¾®åˆ†æ–¹ç¨‹)
- ç”µæ„Ÿå™¨åŠŸèƒ½æµ‹è¯• (ç£é€šé“¾)
- ç”µå‹æº/ç”µæµæºæµ‹è¯•
- æ¥å£ä¸€è‡´æ€§éªŒè¯

### ğŸ§® æ ¸å¿ƒç®—æ³• (Algorithms)
- MNA ç®—æ³•å®ç°éªŒè¯
- çº¿æ€§æ±‚è§£å™¨éªŒè¯
- æ•°å€¼ç²¾åº¦æµ‹è¯•
- ç¬æ€åˆ†æéªŒè¯
- æ”¶æ•›æ€§æµ‹è¯•

### ğŸ”— ç³»ç»Ÿé›†æˆ (Integration)
- æ¨¡å—æ¥å£é›†æˆéªŒè¯
- ç®€å•ç”µè·¯ä»¿çœŸæµ‹è¯•
- å¤æ‚ç”µè·¯ä»¿çœŸæµ‹è¯•
- æ•°æ®æµéªŒè¯
- åº”ç”¨å±‚ç¤ºä¾‹æµ‹è¯•

### ğŸš€ æ€§èƒ½åŸºå‡† (Performance)
- çŸ©é˜µè¿ç®—æ€§èƒ½
- å†…å­˜ä½¿ç”¨æ•ˆç‡
- å¯æ‰©å±•æ€§æµ‹è¯•
- ç®—æ³•å¤æ‚åº¦éªŒè¯
- å®æ—¶æ€§èƒ½åˆ†æ

## ğŸ› ï¸ å‘½ä»¤è¡Œé€‰é¡¹

```bash
# åŸºç¡€å‘½ä»¤
npm run test:all              # è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm run test:quick            # å¿«é€Ÿæµ‹è¯• (è·³è¿‡æ€§èƒ½æµ‹è¯•)
npm run test:verbose          # è¯¦ç»†è¾“å‡ºæ¨¡å¼
npm run test:report           # ç”Ÿæˆ JSON æŠ¥å‘Š

# ç›´æ¥ä½¿ç”¨ node
node test-runner.js           # è¿è¡Œæ‰€æœ‰æµ‹è¯•
node test-runner.js --help    # æŸ¥çœ‹å¸®åŠ©
node test-runner.js --quick   # å¿«é€Ÿæµ‹è¯•
node test-runner.js --verbose # è¯¦ç»†è¾“å‡º
node test-runner.js --report test-report.json  # è‡ªå®šä¹‰æŠ¥å‘Šæ–‡ä»¶
```

### è¯¦ç»†å‚æ•°

| å‚æ•° | ç®€å†™ | è¯´æ˜ |
|------|------|------|
| `--verbose` | `-v` | è¯¦ç»†è¾“å‡ºæ¨¡å¼ï¼Œæ˜¾ç¤ºæ¯ä¸ªæµ‹è¯•çš„è¯¦ç»†ä¿¡æ¯ |
| `--quick` | `-q` | å¿«é€Ÿæµ‹è¯•æ¨¡å¼ï¼Œè·³è¿‡æ€§èƒ½æµ‹è¯•ï¼Œå‡å°‘è¶…æ—¶æ—¶é—´ |
| `--report [æ–‡ä»¶]` | `-r` | ç”Ÿæˆè¯¦ç»†çš„ JSON æ ¼å¼æµ‹è¯•æŠ¥å‘Š |
| `--timeout <æ¯«ç§’>` | `-t` | è®¾ç½®æµ‹è¯•è¶…æ—¶æ—¶é—´ (é»˜è®¤: 30000ms) |
| `--no-performance` | | ç¦ç”¨æ€§èƒ½æµ‹è¯• |
| `--help` | `-h` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ |

## ğŸ“ˆ æµ‹è¯•æŠ¥å‘Š

### æ§åˆ¶å°è¾“å‡ºç¤ºä¾‹
```
ğŸš€ å¼€å§‹æ‰§è¡Œæµ‹è¯•å¥—ä»¶...

ğŸ“‚ æ‰§è¡Œ architecture ç±»åˆ«æµ‹è¯• (1 ä¸ªæ¨¡å—):
   ğŸ§ª æ¶æ„å®Œæ•´æ€§éªŒè¯...
      âœ… 5/5 æµ‹è¯•é€šè¿‡

ğŸ“‚ æ‰§è¡Œ components ç±»åˆ«æµ‹è¯• (1 ä¸ªæ¨¡å—):
   ğŸ§ª ç»„ä»¶åŠŸèƒ½éªŒè¯...
      âœ… 6/6 æµ‹è¯•é€šè¿‡

==================================================
ğŸ¯ æµ‹è¯•æ‰§è¡Œæ‘˜è¦
==================
æ€»æµ‹è¯•æ•°: 25
é€šè¿‡: 23 (92.0%)
å¤±è´¥: 2
è·³è¿‡: 0
è­¦å‘Š: 0
æ€»è€—æ—¶: 1250ms
æ€»ä½“é€šè¿‡ç‡: 92.0%

ğŸ“Š åˆ†ç±»ç»“æœ:
   âœ… æ¶æ„å®Œæ•´æ€§éªŒè¯: 100.0% (150ms)
   âœ… ç»„ä»¶åŠŸèƒ½éªŒè¯: 100.0% (200ms)
   âœ… æ ¸å¿ƒç®—æ³•éªŒè¯: 100.0% (400ms)
   âš ï¸  ç³»ç»Ÿé›†æˆéªŒè¯: 80.0% (300ms)
   âœ… æ€§èƒ½åŸºå‡†æµ‹è¯•: 85.0% (200ms)
==================================================
```

### JSON æŠ¥å‘Šæ ¼å¼
ç”Ÿæˆçš„ JSON æŠ¥å‘ŠåŒ…å«è¯¦ç»†çš„æµ‹è¯•ç»“æœã€æ€§èƒ½æŒ‡æ ‡å’Œé”™è¯¯ä¿¡æ¯ï¼š

```json
{
  "timestamp": "2024-01-15T10:30:00.000Z",
  "totalTests": 25,
  "passedTests": 23,
  "failedTests": 2,
  "totalExecutionTime": 1250.5,
  "overallPassRate": 92.0,
  "suites": [
    {
      "suiteId": "architecture-validation",
      "suiteName": "æ¶æ„å®Œæ•´æ€§éªŒè¯",
      "category": "architecture",
      "results": [...],
      "passRate": 100.0
    }
  ]
}
```

## ğŸ”§ æ‰©å±•æµ‹è¯•æ¡†æ¶

### æ·»åŠ æ–°æµ‹è¯•æ¨¡å—

1. åˆ›å»ºæ–°çš„æµ‹è¯•æ–‡ä»¶ï¼š`tests/modules/yourtest.test.ts`
2. ç»§æ‰¿ `BaseTestModule` ç±»ï¼š

```typescript
import { BaseTestModule, TestResult } from '../UniversalTestRunner.ts';

export class YourTestModule extends BaseTestModule {
  readonly moduleId = 'your-test';
  readonly moduleName = 'ä½ çš„æµ‹è¯•æ¨¡å—';
  readonly category = 'components' as const;
  readonly description = 'æµ‹è¯•æ¨¡å—æè¿°';
  
  async runTests(): Promise<TestResult[]> {
    const results: TestResult[] = [];
    
    // æµ‹è¯•é€»è¾‘
    const [result, time] = await this.measureTime(() => this.yourTestMethod());
    results.push(this.createResult(
      'test-id',
      'æµ‹è¯•åç§°',
      result.success ? 'passed' : 'failed',
      time,
      result.message
    ));
    
    return results;
  }
  
  private yourTestMethod(): { success: boolean; message: string } {
    // å®ç°ä½ çš„æµ‹è¯•é€»è¾‘
    return { success: true, message: 'æµ‹è¯•é€šè¿‡' };
  }
}

export default new YourTestModule();
```

3. æ¡†æ¶ä¼šè‡ªåŠ¨å‘ç°å¹¶æ‰§è¡Œæ–°çš„æµ‹è¯•æ¨¡å—ã€‚

### æµ‹è¯•è¾…åŠ©æ–¹æ³•

ç»§æ‰¿ `BaseTestModule` åå¯ä½¿ç”¨ä»¥ä¸‹è¾…åŠ©æ–¹æ³•ï¼š

- `measureTime(fn)` - æµ‹é‡æ‰§è¡Œæ—¶é—´
- `assert(condition, message)` - æ–­è¨€æ£€æŸ¥
- `benchmark(name, fn, iterations)` - æ€§èƒ½åŸºå‡†æµ‹è¯•
- `createResult(...)` - åˆ›å»ºæ ‡å‡†æµ‹è¯•ç»“æœ

## ğŸ® æŒç»­é›†æˆ

é€‚ç”¨äº CI/CD ç®¡é“çš„æµ‹è¯•å‘½ä»¤ï¼š

```bash
# CI å¿«é€ŸéªŒè¯
npm run validate

# æˆ–ç›´æ¥ä½¿ç”¨
node test-runner.js --quick --report ci-report.json
```

æµ‹è¯•ç»“æœé€šè¿‡é€€å‡ºç åæ˜ ï¼š
- `0` - æ‰€æœ‰æµ‹è¯•é€šè¿‡
- `1` - å­˜åœ¨æµ‹è¯•å¤±è´¥
- `2` - æµ‹è¯•æ‰§è¡Œé”™è¯¯

## ğŸ“ æµ‹è¯•è¦†ç›–èŒƒå›´

| æµ‹è¯•å±‚çº§ | è¦†ç›–å†…å®¹ | ç›®æ ‡é€šè¿‡ç‡ |
|----------|----------|-----------|
| æ¶æ„å±‚ | ç›®å½•ç»“æ„ã€æ¥å£è®¾è®¡ã€ä¾èµ–å…³ç³» | 100% |
| ç»„ä»¶å±‚ | åŸºç¡€ç”µå­ç»„ä»¶åŠŸèƒ½æ­£ç¡®æ€§ | 95%+ |
| ç®—æ³•å±‚ | æ•°å€¼ç®—æ³•ç²¾åº¦ã€ç¨³å®šæ€§ | 90%+ |  
| é›†æˆå±‚ | æ¨¡å—ååŒã€å®Œæ•´ä»¿çœŸæµç¨‹ | 85%+ |
| æ€§èƒ½å±‚ | è¿ç®—æ•ˆç‡ã€å†…å­˜ä½¿ç”¨ã€å¯æ‰©å±•æ€§ | 80%+ |

## ğŸš€ ä¸‹ä¸€æ­¥è®¡åˆ’

- [ ] æ·»åŠ å›å½’æµ‹è¯•æ”¯æŒ
- [ ] é›†æˆä»£ç è¦†ç›–ç‡ç»Ÿè®¡
- [ ] æ·»åŠ å¹¶è¡Œæµ‹è¯•æ‰§è¡Œ
- [ ] æ”¯æŒæµ‹è¯•åˆ†ç±»è¿‡æ»¤
- [ ] æ·»åŠ æ€§èƒ½è¶‹åŠ¿åˆ†æ
- [ ] æ”¯æŒè‡ªå®šä¹‰æµ‹è¯•é…ç½®æ–‡ä»¶