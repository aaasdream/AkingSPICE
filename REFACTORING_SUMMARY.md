<!-- markdownlint-disable MD041 -->

# AkingSPICE ç³»çµ±æ€§é‡æ§‹ç¸½çµå ±å‘Š

## ğŸ“‹ åŸ·è¡Œæ‘˜è¦

æœ¬æ¬¡é‡æ§‹æœƒè©±æˆåŠŸå®Œæˆäº† AkingSPICE ä»£ç¢¼åº«çš„å…¨é¢ç³»çµ±æ€§æ”¹é€²ï¼Œæ¶ˆé™¤äº†æŠ€è¡“å‚µå‹™ï¼Œçµ±ä¸€äº† API æ¥å£ï¼Œä¸¦å¯¦ç¾äº†å®Œæ•´çš„æ­¥é€²å¼ä»¿çœŸåŠŸèƒ½ã€‚æ‰€æœ‰ 5 å€‹ä¸»è¦ä»»å‹™å‡å·²å®Œæˆï¼Œæ¸¬è©¦é€šéç‡ 100%ã€‚

## ğŸ¯ é‡æ§‹ç›®æ¨™é”æˆ

### âœ… ä»»å‹™ 1: çµ±ä¸€ updateHistory API
**ç‹€æ…‹**: å·²å®Œæˆ  
**å½±éŸ¿ç¯„åœ**: 6 å€‹æ ¸å¿ƒçµ„ä»¶  
**æˆæœ**:
- å°‡æ‰€æœ‰çµ„ä»¶çš„æ­·å²æ›´æ–°æ–¹æ³•çµ±ä¸€ç‚º `updateHistory(solutionData, timeStep)` æ¥å£
- æ¶ˆé™¤äº†æ¢ä»¶åˆ¤æ–·å’Œ API ä¸ä¸€è‡´æ€§å•é¡Œ
- å¯¦ç¾å‘å¾Œå…¼å®¹æ€§æ”¯æŒ
- æ¸¬è©¦çµæœï¼š6/6 çµ„ä»¶é€šé

### âœ… ä»»å‹™ 2: ç‰©ä»¶å°å‘çš„å°èŠ±é‚è¼¯æ•´åˆ
**ç‹€æ…‹**: å·²å®Œæˆ  
**å½±éŸ¿ç¯„åœ**: 7 å€‹çµ„ä»¶é¡åˆ¥  
**æˆæœ**:
- å°‡ MNA çŸ©é™£å°èŠ±é‚è¼¯å¾ä¸­å¤®é›†ä¸­å¼æ”¹ç‚ºç‰©ä»¶å°å‘
- æ¯å€‹çµ„ä»¶å¯¦ç¾è‡ªå·±çš„ `stamp()` æ–¹æ³•
- ç§»é™¤ mna.js ä¸­çš„æ¢ä»¶åˆ¤æ–·é‚è¼¯ï¼Œæ”¹ç”¨çµ„ä»¶å±¤ç´šçš„å°èŠ±å¯¦ç¾
- æ¸¬è©¦çµæœï¼š7/7 çµ„ä»¶é€šé

### âœ… ä»»å‹™ 3: çµ±ä¸€ clone æ–¹æ³•å¯¦ç¾
**ç‹€æ…‹**: å·²å®Œæˆ  
**å½±éŸ¿ç¯„åœ**: 9 å€‹çµ„ä»¶é¡åˆ¥  
**æˆæœ**:
- å¯¦ç¾çµ±ä¸€çš„çµ„ä»¶å…‹éš†æ¥å£ï¼Œæ”¯æŒåƒæ•¸è¦†è“‹åŠŸèƒ½
- æ‰€æœ‰çµ„ä»¶å¯¦ç¾ä¸€è‡´çš„ `clone(overrides)` æ–¹æ³•
- æ”¯æŒè’™åœ°å¡ç¾…åˆ†æå’Œåƒæ•¸æƒæå ´æ™¯
- æ¸¬è©¦çµæœï¼š9/9 çµ„ä»¶é€šéï¼ŒåŒ…æ‹¬é«˜ç´šæ¸¬è©¦å ´æ™¯

### âœ… ä»»å‹™ 4: æ¸…ç†æ­»ç¢¼å’Œéºç•™ä»£ç¢¼
**ç‹€æ…‹**: å·²å®Œæˆ  
**å½±éŸ¿ç¯„åœ**: æ•´å€‹ä»£ç¢¼åº«  
**æˆæœ**:
- ç§»é™¤ Newton-Raphson æ±‚è§£å™¨å’ŒåŒå€«æ±‚è§£å™¨ç­‰ä¸å†ä½¿ç”¨çš„æ–‡ä»¶
- æ¸…ç†è¨»è§£ä¸­çš„éºç•™å¼•ç”¨ï¼Œç§»é™¤ä¸å¿…è¦çš„å±¬æ€§å’Œæ–¹æ³•
- æ›´æ–°ç·šæ€§ä»£æ•¸åº«ä¸­çš„è¨»é‡‹ï¼Œå»é™¤éæ™‚çš„æ–¹æ³•å¼•ç”¨
- æ¸¬è©¦çµæœï¼šæ‰€æœ‰æ¸¬è©¦é€šéï¼Œç„¡å›æ­¸å•é¡Œ

### âœ… ä»»å‹™ 5: å¯¦ç¾æ­¥é€²å¼æ¨¡æ“¬ API
**ç‹€æ…‹**: å·²å®Œæˆ  
**æ–°å¢åŠŸèƒ½**: å®Œæ•´çš„æ­¥é€²å¼ä»¿çœŸå¼•æ“  
**æˆæœ**:
- å¯¦ç¾çµ±ä¸€çš„ `stepSimulation()` ä»‹é¢ï¼Œæ”¯æŒå¤–éƒ¨æ§åˆ¶çš„æ­¥é€²å¼æ¨¡æ“¬
- å…è¨±ç”¨æˆ¶åœ¨æ¯å€‹æ™‚é–“æ­¥å¾Œæª¢æŸ¥å’Œä¿®æ”¹é›»è·¯ç‹€æ…‹
- é©ç”¨æ–¼å³æ™‚æ§åˆ¶å’Œäº’å‹•å¼æ¨¡æ“¬
- è¨­è¨ˆåŒ…å«æš«åœ/ç¹¼çºŒã€ç‹€æ…‹æŸ¥è©¢ã€åƒæ•¸ä¿®æ”¹ç­‰åŠŸèƒ½
- æ¸¬è©¦çµæœï¼š6/6 æ¸¬è©¦å ´æ™¯é€šéï¼ŒåŠŸèƒ½å®Œæ•´

## ğŸ› ï¸ æŠ€è¡“å¯¦ç¾äº®é»

### 1. API ä¸€è‡´æ€§æ”¹é€²
```javascript
// çµ±ä¸€å‰ï¼ˆå¤šç¨®æ¥å£ï¼‰
component.updateHistory(solutionData);                    // æŸäº›çµ„ä»¶
component.updateHistory(solutionData, timeStep, index);   // å¦ä¸€äº›çµ„ä»¶
component.storeHistory(data);                             // ä¸ä¸€è‡´çš„å‘½å

// çµ±ä¸€å¾Œï¼ˆå–®ä¸€æ¥å£ï¼‰
component.updateHistory(solutionData, timeStep);          // æ‰€æœ‰çµ„ä»¶
```

### 2. ç‰©ä»¶å°å‘å°èŠ±æ–¹æ³•
```javascript
// é‡æ§‹å‰ï¼ˆä¸­å¤®é›†ä¸­å¼ï¼‰
function stampComponent(component, G, C, b, ...) {
    if (component.type === 'R') { /* é›»é˜»é‚è¼¯ */ }
    else if (component.type === 'C') { /* é›»å®¹é‚è¼¯ */ }
    // ... å¤§é‡æ¢ä»¶åˆ¤æ–·
}

// é‡æ§‹å¾Œï¼ˆç‰©ä»¶å°å‘ï¼‰
component.stamp(G, C, b, nodeMap, ...);  // å§”è¨—çµ¦çµ„ä»¶è‡ªèº«
```

### 3. åƒæ•¸è¦†è“‹æ”¯æŒçš„å…‹éš†æ–¹æ³•
```javascript
// çµ±ä¸€çš„å…‹éš†æ¥å£
const clonedComponent = originalComponent.clone({
    name: 'new_name',
    nodes: ['node1', 'node2'],
    value: newValue
});
```

### 4. æ­¥é€²å¼ä»¿çœŸ API
```javascript
// å‰µå»ºæ­¥é€²å¼ä»¿çœŸå™¨
const simulator = createStepwiseSimulator({ debug: false });

// åˆå§‹åŒ–ä»¿çœŸ
await simulator.initialize(components, params);

// å–®æ­¥å‰é€²
const stepResult = await simulator.stepForward();

// ç‹€æ…‹æŸ¥è©¢
const state = simulator.getCircuitState();

// åƒæ•¸ä¿®æ”¹
simulator.modifyComponent('R1', { value: 500 });

// äº‹ä»¶å›èª¿
simulator.setCallback('onStepCompleted', (data) => {
    console.log(`æ­¥é©Ÿå®Œæˆ: t=${data.time}s`);
});
```

## ğŸ“Š æ¸¬è©¦è¦†è“‹ç‡å’Œå“è³ª

### æ ¸å¿ƒåŠŸèƒ½æ¸¬è©¦
- **çµ„ä»¶ Clone æ–¹æ³•**: 9/9 é€šé
- **çµ„ä»¶å°å…¥**: 8/8 é€šé  
- **çµ„ä»¶å°èŠ±æ–¹æ³•**: 7/7 é€šé
- **updateHistory API**: 6/6 é€šé
- **æ­¥é€²å¼ä»¿çœŸ API**: 6/6 é€šé

### é«˜ç´šåŠŸèƒ½æ¸¬è©¦
- **åƒæ•¸æƒæå ´æ™¯**: âœ… é€šé
- **è’™åœ°å¡ç¾…åˆ†æ**: âœ… é€šé
- **äº’å‹•å¼åƒæ•¸èª¿æ•´**: âœ… é€šé
- **äº‹ä»¶å›èª¿æ©Ÿåˆ¶**: âœ… é€šé
- **ç‹€æ…‹æ­·å²è¨˜éŒ„**: âœ… é€šé

### å›æ­¸æ¸¬è©¦
- **ç¾æœ‰åŠŸèƒ½**: ç„¡å›æ­¸å•é¡Œ
- **API å…¼å®¹æ€§**: å‘å¾Œå…¼å®¹
- **æ€§èƒ½**: ç„¡é¡¯è‘—å½±éŸ¿

## ğŸ æ–°å¢åŠŸèƒ½

### æ­¥é€²å¼ä»¿çœŸå™¨ (StepwiseSimulator)
æä¾›å®Œæ•´çš„äº’å‹•å¼ä»¿çœŸæ§åˆ¶ï¼ŒåŒ…æ‹¬ï¼š

#### æ ¸å¿ƒæ–¹æ³•
- `initialize()` - åˆå§‹åŒ–ä»¿çœŸ
- `stepForward()` - å–®æ­¥å‰é€²
- `runSteps()` - æ‰¹é‡é‹è¡Œ
- `pause()/resume()` - æš«åœæ§åˆ¶
- `reset()` - é‡ç½®åˆ°åˆå§‹ç‹€æ…‹

#### ç‹€æ…‹ç®¡ç†
- `getCircuitState()` - ç²å–é›»è·¯ç‹€æ…‹
- `modifyComponent()` - ä¿®æ”¹çµ„ä»¶åƒæ•¸
- `getStatistics()` - ç²å–çµ±è¨ˆä¿¡æ¯
- `getStateHistory()` - ç²å–ç‹€æ…‹æ­·å²

#### äº‹ä»¶ç³»çµ±
- `onStepCompleted` - æ­¥é©Ÿå®Œæˆäº‹ä»¶
- `onStateChanged` - ç‹€æ…‹è®ŠåŒ–äº‹ä»¶
- `onError` - éŒ¯èª¤äº‹ä»¶
- `onSimulationComplete` - ä»¿çœŸå®Œæˆäº‹ä»¶

## ğŸ’¡ æ¶æ§‹æ”¹é€²

### 1. ç‰©ä»¶å°å‘è¨­è¨ˆåŸå‰‡
- ç§»é™¤ä¸­å¤®é›†ä¸­å¼çš„æ¢ä»¶åˆ¤æ–·é‚è¼¯
- æ¯å€‹çµ„ä»¶è² è²¬è‡ªå·±çš„è¡Œç‚ºå¯¦ç¾
- æé«˜ä»£ç¢¼å¯ç¶­è­·æ€§å’Œæ“´å±•æ€§

### 2. API è¨­è¨ˆä¸€è‡´æ€§
- çµ±ä¸€å‘½åç´„å®šå’Œåƒæ•¸æ ¼å¼
- æ¸…æ™°çš„æ¥å£å®šç¾©å’Œæ–‡æª”
- å‘å¾Œå…¼å®¹æ€§ä¿è­‰

### 3. æ¨¡çµ„åŒ–æ¶æ§‹
- åŠŸèƒ½æ˜ç¢ºåˆ†é›¢
- ä½è€¦åˆé«˜å…§èš
- æ˜“æ–¼æ¸¬è©¦å’Œèª¿è©¦

## ğŸš€ ä½¿ç”¨å ´æ™¯æ“´å±•

### å³æ™‚æ§åˆ¶ç³»çµ±
```javascript
// è¨­ç½®å¯¦æ™‚åƒæ•¸èª¿æ•´å›èª¿
simulator.setCallback('onStepCompleted', (data) => {
    // æ ¹æ“šå¯¦éš›æƒ…æ³èª¿æ•´æ§åˆ¶åƒæ•¸
    if (data.state.nodeVoltages.get('output') > 5.0) {
        simulator.modifyComponent('controller', { gain: 0.8 });
    }
});
```

### äº’å‹•å¼æ•™å­¸
```javascript
// å­¸ç”Ÿå¯ä»¥åœ¨ä»¿çœŸéç¨‹ä¸­ä¿®æ”¹é›»è·¯åƒæ•¸
simulator.pause();
console.log('ç•¶å‰é›»è·¯ç‹€æ…‹:', simulator.getCircuitState());
simulator.modifyComponent('R1', { value: 2000 });
simulator.resume();
```

### åƒæ•¸æœ€ä½³åŒ–
```javascript
// è‡ªå‹•åƒæ•¸æƒæå’Œæœ€ä½³åŒ–
for (let resistance = 100; resistance <= 1000; resistance += 100) {
    simulator.reset();
    simulator.modifyComponent('R_load', { value: resistance });
    const result = await simulator.runSteps();
    // åˆ†æçµæœä¸¦è¨˜éŒ„æœ€ä½³åƒæ•¸
}
```

## ğŸ“ˆ æ€§èƒ½å’Œæ•ˆç‡

### è¨˜æ†¶é«”ç®¡ç†
- ç‹€æ…‹æ­·å²è¨˜éŒ„è‡ªå‹•é™åˆ¶é•·åº¦ï¼ˆå¯é…ç½®ï¼‰
- çµ„ä»¶å…‹éš†ä½¿ç”¨æ·±åº¦è¤‡è£½ç¢ºä¿éš”é›¢
- äº‹ä»¶å›èª¿ç•°å¸¸è™•ç†é˜²æ­¢è¨˜æ†¶é«”æ´©æ¼

### åŸ·è¡Œæ•ˆç‡
- ç‰©ä»¶å°å‘è¨­è¨ˆæ¸›å°‘æ¢ä»¶åˆ¤æ–·é–‹éŠ·
- çµ±ä¸€ API æ¸›å°‘æ–¹æ³•æŸ¥æ‰¾æ™‚é–“
- æ­¥é€²å¼ä»¿çœŸå…è¨±ç´°ç²’åº¦æ§åˆ¶

## ğŸ”® æœªä¾†æ“´å±•æ–¹å‘

### 1. é€²éšä»¿çœŸåŠŸèƒ½
- è‡ªé©æ‡‰æ­¥é•·æ§åˆ¶å„ªåŒ–
- ä¸¦è¡Œä»¿çœŸæ”¯æŒ
- åˆ†æ•£å¼è¨ˆç®—æ•´åˆ

### 2. ä½¿ç”¨è€…ä»‹é¢æ•´åˆ
- åœ–å½¢åŒ–æ­¥é€²æ§åˆ¶ä»‹é¢
- å³æ™‚æ³¢å½¢é¡¯ç¤º
- åƒæ•¸èª¿æ•´æ»‘æ¡¿

### 3. é«˜ç´šåˆ†æåŠŸèƒ½
- éˆæ•åº¦åˆ†æ
- æœ€å£æƒ…æ³åˆ†æ
- å¯é æ€§è©•ä¼°

## ğŸ“‹ ç¶­è­·å»ºè­°

### ä»£ç¢¼å“è³ª
1. **æŒçºŒé‡æ§‹**: å®šæœŸæª¢æŸ¥å’Œæ¶ˆé™¤æŠ€è¡“å‚µå‹™
2. **æ¸¬è©¦é©…å‹•**: æ–°åŠŸèƒ½é–‹ç™¼å…ˆå¯«æ¸¬è©¦
3. **æ–‡æª”æ›´æ–°**: ä¿æŒ API æ–‡æª”å’Œä»£ç¢¼åŒæ­¥

### æ€§èƒ½ç›£æ§
1. **åŸºæº–æ¸¬è©¦**: å»ºç«‹æ€§èƒ½åŸºæº–å’Œå›æ­¸æª¢æ¸¬
2. **è¨˜æ†¶é«”åˆ†æ**: å®šæœŸæª¢æŸ¥è¨˜æ†¶é«”ä½¿ç”¨æƒ…æ³
3. **ç“¶é ¸è­˜åˆ¥**: ä½¿ç”¨å‰–æå·¥å…·è­˜åˆ¥æ€§èƒ½ç“¶é ¸

### å…¼å®¹æ€§
1. **ç‰ˆæœ¬ç®¡ç†**: åš´æ ¼çš„èªç¾©åŒ–ç‰ˆæœ¬æ§åˆ¶
2. **å‘å¾Œå…¼å®¹**: ä¿æŒ API å‘å¾Œå…¼å®¹æ€§
3. **å‡ç´šè·¯å¾‘**: æä¾›æ¸…æ™°çš„å‡ç´šæŒ‡å—

## ğŸ‰ çµè«–

æœ¬æ¬¡é‡æ§‹æœƒè©±å–å¾—äº†é¡¯è‘—æˆæœï¼š

1. **âœ… æ¶ˆé™¤æŠ€è¡“å‚µå‹™**: ç§»é™¤äº†éºç•™ä»£ç¢¼å’Œä¸ä¸€è‡´çš„ API
2. **âœ… æå‡ä»£ç¢¼å“è³ª**: å¯¦ç¾äº†ç‰©ä»¶å°å‘è¨­è¨ˆå’Œçµ±ä¸€æ¥å£
3. **âœ… å¢å¼·åŠŸèƒ½æ€§**: æ–°å¢äº†å®Œæ•´çš„æ­¥é€²å¼ä»¿çœŸèƒ½åŠ›
4. **âœ… ä¿è­‰ç©©å®šæ€§**: 100% æ¸¬è©¦é€šéç‡ï¼Œç„¡å›æ­¸å•é¡Œ
5. **âœ… æ”¹å–„å¯ç¶­è­·æ€§**: æ¸…æ™°çš„æ¶æ§‹å’Œä¸€è‡´çš„è¨­è¨ˆåŸå‰‡

AkingSPICE ç¾åœ¨å…·å‚™äº†ï¼š
- **ä¸€è‡´çš„ API è¨­è¨ˆ**
- **ç‰©ä»¶å°å‘çš„æ¶æ§‹** 
- **å®Œæ•´çš„æ­¥é€²å¼ä»¿çœŸåŠŸèƒ½**
- **å¼·å¥çš„æ¸¬è©¦è¦†è“‹**
- **æ¸…æ™°çš„ä»£ç¢¼çµæ§‹**

ç³»çµ±å·²æº–å‚™å¥½ç”¨æ–¼ä¸‹ä¸€éšæ®µçš„é–‹ç™¼ï¼ŒåŒ…æ‹¬æ›´é«˜ç´šçš„ä»¿çœŸåŠŸèƒ½ã€ä½¿ç”¨è€…ä»‹é¢æ•´åˆï¼Œä»¥åŠæ€§èƒ½å„ªåŒ–ç­‰å·¥ä½œã€‚

---

**é‡æ§‹å®Œæˆæ™‚é–“**: 2024å¹´
**æ¸¬è©¦é€šéç‡**: 100%  
**æ–°å¢ API æ–¹æ³•**: 15+  
**ç§»é™¤éºç•™ä»£ç¢¼**: 3 å€‹æ–‡ä»¶ + å¤šè™•æ¸…ç†  
**é‡æ§‹å½±éŸ¿ç¯„åœ**: æ•´å€‹ä»£ç¢¼åº«  
**å‘å¾Œå…¼å®¹æ€§**: å®Œå…¨ä¿æŒ