<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>ğŸ”¬ AkingSPICE åŸºç¤é›»è·¯æ¸¬è©¦ - CPU vs GPU</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
            margin: 0; 
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        .header { 
            background: rgba(255,255,255,0.1); 
            backdrop-filter: blur(10px);
            color: white; 
            padding: 20px; 
            text-align: center; 
            border-radius: 15px;
            margin-bottom: 20px;
        }
        .test-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        .test-panel {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        .chart-container {
            background: white;
            border-radius: 10px;
            padding: 15px;
            height: 300px;
            margin-top: 15px;
        }
        button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin: 5px;
            transition: all 0.3s ease;
        }
        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        button:disabled {
            background: #aaa;
            cursor: not-allowed;
            transform: none;
        }
        .log {
            background: rgba(248,249,250,0.8);
            border-radius: 8px;
            padding: 10px;
            font-family: 'Courier New', monospace;
            font-size: 0.8em;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 10px;
            white-space: pre-wrap;
        }
        .status {
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 10px;
            font-weight: 600;
        }
        .status.success { background: rgba(16, 185, 129, 0.1); color: #059669; }
        .status.error { background: rgba(239, 68, 68, 0.1); color: #dc2626; }
        .status.info { background: rgba(59, 130, 246, 0.1); color: #2563eb; }
        .performance {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
        }
        .perf-item {
            text-align: center;
            padding: 10px;
            border-radius: 8px;
            background: rgba(0,0,0,0.05);
        }
        select, input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin: 5px;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>ğŸ”¬ AkingSPICE åŸºç¤é›»è·¯æ¸¬è©¦</h1>
        <p>CPU vs GPU æ€§èƒ½å°æ¯” â€¢ å¾æœ€ç°¡å–®çš„é›»è·¯é–‹å§‹é©—è­‰</p>
    </div>

    <div style="background: rgba(255,255,255,0.95); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
        <h3>ğŸ§ª æ¸¬è©¦åƒæ•¸è¨­å®š</h3>
        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; align-items: center;">
            <div>
                <label>é›»è·¯é¡å‹:</label>
                <select id="circuitType">
                    <option value="rc">RC å……é›»é›»è·¯</option>
                    <option value="rlc">RLC æŒ¯è•©é›»è·¯</option>
                    <option value="divider">é›»å£“åˆ†å£“å™¨</option>
                    <option value="llc">ç°¡åŒ– LLC</option>
                </select>
            </div>
            <div>
                <label>æ¨¡æ“¬æ™‚é–“:</label>
                <input type="number" id="simTime" value="1" step="0.1" min="0.1" max="10">
                <span>ms</span>
            </div>
            <div>
                <label>æ™‚é–“æ­¥é•·:</label>
                <select id="timeStep">
                    <option value="1e-6">1Î¼s</option>
                    <option value="100e-9">100ns</option>
                    <option value="10e-9" selected>10ns</option>
                    <option value="1e-9">1ns</option>
                </select>
            </div>
            <div>
                <button id="runTestBtn">ğŸš€ åŸ·è¡Œæ¸¬è©¦</button>
            </div>
        </div>
    </div>

    <div class="test-grid">
        <div class="test-panel">
            <h3>ğŸ’» CPU æ±‚è§£å™¨æ¸¬è©¦</h3>
            <div id="cpuStatus" class="status info">ç­‰å¾…æ¸¬è©¦...</div>
            <button id="cpuBtn" disabled>æ¸¬è©¦ CPU æ±‚è§£å™¨</button>
            <div class="performance">
                <div class="perf-item">
                    <div>åŸ·è¡Œæ™‚é–“</div>
                    <div id="cpuTime">-</div>
                </div>
                <div class="perf-item">
                    <div>æ€§èƒ½ (æ­¥/ç§’)</div>
                    <div id="cpuPerf">-</div>
                </div>
            </div>
            <div class="chart-container">
                <canvas id="cpuChart"></canvas>
            </div>
            <div id="cpuLog" class="log"></div>
        </div>

        <div class="test-panel">
            <h3>ğŸš€ GPU æ±‚è§£å™¨æ¸¬è©¦</h3>
            <div id="gpuStatus" class="status info">ç­‰å¾…æ¸¬è©¦...</div>
            <button id="gpuBtn" disabled>æ¸¬è©¦ GPU æ±‚è§£å™¨</button>
            <div class="performance">
                <div class="perf-item">
                    <div>åŸ·è¡Œæ™‚é–“</div>
                    <div id="gpuTime">-</div>
                </div>
                <div class="perf-item">
                    <div>æ€§èƒ½ (æ­¥/ç§’)</div>
                    <div id="gpuPerf">-</div>
                </div>
            </div>
            <div class="chart-container">
                <canvas id="gpuChart"></canvas>
            </div>
            <div id="gpuLog" class="log"></div>
        </div>
    </div>

    <div class="test-panel">
        <h3>ğŸ“Š æ€§èƒ½å°æ¯”çµæœ</h3>
        <div id="comparisonResult" class="log">ç­‰å¾…æ¸¬è©¦å®Œæˆ...</div>
    </div>
</div>

<script src="./lib-dist/AkingSPICE.umd.js"></script>
<script>
document.addEventListener('DOMContentLoaded', async () => {
    let cpuSolver = null;
    let gpuSolver = null;
    let cpuChart = null;
    let gpuChart = null;
    let isReady = false;

    // æ—¥èªŒå‡½æ•¸
    function log(message, type = 'info', target = 'both') {
        const timestamp = new Date().toLocaleTimeString();
        const logMessage = `[${timestamp}] ${message}\n`;
        
        if (target === 'cpu' || target === 'both') {
            document.getElementById('cpuLog').textContent += logMessage;
            document.getElementById('cpuLog').scrollTop = document.getElementById('cpuLog').scrollHeight;
        }
        if (target === 'gpu' || target === 'both') {
            document.getElementById('gpuLog').textContent += logMessage;
            document.getElementById('gpuLog').scrollTop = document.getElementById('gpuLog').scrollHeight;
        }
        console.log(`[${target.toUpperCase()}] ${message}`);
    }

    function updateStatus(message, type, target) {
        const statusEl = document.getElementById(`${target}Status`);
        statusEl.textContent = message;
        statusEl.className = `status ${type}`;
    }

    // åˆå§‹åŒ–åœ–è¡¨
    function initChart(canvasId) {
        const ctx = document.getElementById(canvasId).getContext('2d');
        return new Chart(ctx, {
            type: 'line',
            data: { labels: [], datasets: [] },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                animation: false,
                scales: {
                    x: { title: { display: true, text: 'æ™‚é–“ (ms)' } },
                    y: { title: { display: true, text: 'é›»å£“ (V)' } }
                }
            }
        });
    }

    // å‰µå»ºæ¸¬è©¦é›»è·¯
    function createTestCircuit() {
        const circuitType = document.getElementById('circuitType').value;
        const { VoltageSource, Resistor, Capacitor, Inductor } = AkingSPICE;
        
        log(`å‰µå»º ${circuitType} æ¸¬è©¦é›»è·¯...`);
        
        switch (circuitType) {
            case 'rc':
                return {
                    components: [
                        new VoltageSource('V1', ['vin', 'gnd'], 5.0),
                        new Resistor('R1', ['vin', 'vout'], 1000),
                        new Capacitor('C1', ['vout', 'gnd'], 1e-6, { ic: 0 })
                    ],
                    expectedFinalVoltage: 5.0,
                    outputNode: 'vout',
                    description: 'RCå……é›»é›»è·¯ (5V â†’ 1kÎ© â†’ 1Î¼F)'
                };
                
            case 'rlc':
                return {
                    components: [
                        new VoltageSource('V1', ['vin', 'gnd'], 10.0),
                        new Resistor('R1', ['vin', 'n1'], 100),
                        new Inductor('L1', ['n1', 'vout'], 1e-3),
                        new Capacitor('C1', ['vout', 'gnd'], 1e-6, { ic: 0 })
                    ],
                    expectedFinalVoltage: 10.0,
                    outputNode: 'vout',
                    description: 'RLCé›»è·¯ (10V â†’ 100Î© â†’ 1mH â†’ 1Î¼F)'
                };
                
            case 'divider':
                return {
                    components: [
                        new VoltageSource('V1', ['vin', 'gnd'], 12.0),
                        new Resistor('R1', ['vin', 'vout'], 1000),
                        new Resistor('R2', ['vout', 'gnd'], 2000),
                        new Capacitor('C1', ['vout', 'gnd'], 10e-6, { ic: 0 })
                    ],
                    expectedFinalVoltage: 8.0, // 12V * 2kÎ©/(1kÎ©+2kÎ©) = 8V
                    outputNode: 'vout',
                    description: 'é›»å£“åˆ†å£“å™¨ (12V â†’ 1kÎ©/2kÎ©åˆ†å£“ â†’ 8V)'
                };
                
            case 'llc':
                return {
                    components: [
                        new VoltageSource('V1', ['vin', 'gnd'], 24.0),
                        new Inductor('L1', ['vin', 'n1'], 10e-6),     // 10Î¼H
                        new Capacitor('C1', ['n1', 'n2'], 100e-9),    // 100nF  
                        new Inductor('L2', ['n2', 'gnd'], 50e-6),     // 50Î¼H ç£åŒ–é›»æ„Ÿ
                        new Resistor('R1', ['n1', 'vout'], 10),       // æ•´æµç­‰æ•ˆ
                        new Capacitor('C2', ['vout', 'gnd'], 100e-6, { ic: 0 }) // è¼¸å‡ºæ¿¾æ³¢
                    ],
                    expectedFinalVoltage: 20.0,
                    outputNode: 'vout',
                    description: 'ç°¡åŒ–LLCè½‰æ›å™¨'
                };
        }
    }

    // åŸ·è¡Œå–®å€‹æ±‚è§£å™¨æ¸¬è©¦
    async function runSolverTest(solver, solverName) {
        const target = solverName.toLowerCase();
        
        try {
            updateStatus('ğŸ”„ åˆå§‹åŒ–ä¸­...', 'info', target);
            log(`é–‹å§‹ ${solverName} æ±‚è§£å™¨æ¸¬è©¦`, 'info', target);
            
            const circuit = createTestCircuit();
            const simTime = parseFloat(document.getElementById('simTime').value) * 1e-3;
            const timeStep = parseFloat(document.getElementById('timeStep').value);
            const totalSteps = Math.floor(simTime / timeStep);
            
            log(`é›»è·¯: ${circuit.description}`, 'info', target);
            log(`åƒæ•¸: æ™‚é–“=${simTime*1000}ms, æ­¥é•·=${timeStep*1e9}ns, ç¸½æ­¥æ•¸=${totalSteps}`, 'info', target);
            
            // åˆå§‹åŒ–æ±‚è§£å™¨
            updateStatus('ğŸ”§ åˆå§‹åŒ–æ±‚è§£å™¨...', 'info', target);
            const startInit = performance.now();
            await solver.initialize(circuit.components, timeStep);
            const initTime = performance.now() - startInit;
            log(`æ±‚è§£å™¨åˆå§‹åŒ–å®Œæˆï¼Œè€—æ™‚: ${initTime.toFixed(1)}ms`, 'info', target);
            
            // åŸ·è¡Œæ¨¡æ“¬
            updateStatus('âš¡ åŸ·è¡Œæ¨¡æ“¬...', 'info', target);
            const results = [];
            const startSim = performance.now();
            
            for (let i = 0; i < totalSteps; i++) {
                try {
                    const stepResult = await solver.step();
                    
                    if (stepResult) {
                        const time = i * timeStep;
                        let voltage = 0;
                        
                        if (stepResult.nodeVoltages) {
                            voltage = stepResult.nodeVoltages[circuit.outputNode] || 0;
                        } else if (stepResult.stateVector && stepResult.stateVector.length > 0) {
                            voltage = stepResult.stateVector[0] || 0;
                        }
                        
                        results.push({ time: time * 1000, voltage: voltage }); // æ™‚é–“è½‰ms
                        
                        if (i % Math.floor(totalSteps/10) === 0) {
                            updateStatus(`âš¡ æ¨¡æ“¬é€²åº¦: ${Math.round(i/totalSteps*100)}%`, 'info', target);
                        }
                    }
                } catch (stepError) {
                    if (i % 1000 === 0) {
                        log(`æ­¥é©Ÿ ${i} éŒ¯èª¤: ${stepError.message}`, 'error', target);
                    }
                }
            }
            
            const simTime_actual = performance.now() - startSim;
            const performance_rate = totalSteps / simTime_actual * 1000;
            
            // æ›´æ–°æ€§èƒ½é¡¯ç¤º
            document.getElementById(`${target}Time`).textContent = `${simTime_actual.toFixed(1)}ms`;
            document.getElementById(`${target}Perf`).textContent = `${performance_rate.toFixed(0)} æ­¥/ç§’`;
            
            // åˆ†æçµæœ
            if (results.length > 0) {
                const finalVoltage = results[results.length - 1].voltage;
                const error = Math.abs(finalVoltage - circuit.expectedFinalVoltage);
                const errorPercent = (error / circuit.expectedFinalVoltage * 100).toFixed(2);
                
                log(`âœ… æ¨¡æ“¬å®Œæˆ! æ•¸æ“šé»: ${results.length}`, 'info', target);
                log(`ğŸ“Š æœ€çµ‚é›»å£“: ${finalVoltage.toFixed(3)}V (é æœŸ: ${circuit.expectedFinalVoltage}V)`, 'info', target);
                log(`ğŸ“Š èª¤å·®: ${error.toFixed(3)}V (${errorPercent}%)`, 'info', target);
                log(`âš¡ æ€§èƒ½: ${performance_rate.toFixed(0)} æ­¥/ç§’`, 'info', target);
                
                // ç¹ªè£½åœ–è¡¨
                const chart = target === 'cpu' ? cpuChart : gpuChart;
                chart.data = {
                    labels: results.map(r => r.time.toFixed(3)),
                    datasets: [{
                        label: `${solverName} è¼¸å‡ºé›»å£“`,
                        data: results.map(r => r.voltage),
                        borderColor: target === 'cpu' ? '#2563eb' : '#059669',
                        backgroundColor: target === 'cpu' ? 'rgba(37,99,235,0.1)' : 'rgba(5,150,105,0.1)',
                        borderWidth: 2,
                        pointRadius: 0,
                        fill: false
                    }, {
                        label: 'é æœŸé›»å£“',
                        data: results.map(() => circuit.expectedFinalVoltage),
                        borderColor: '#dc2626',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        pointRadius: 0,
                        fill: false
                    }]
                };
                chart.update();
                
                updateStatus(`âœ… æ¸¬è©¦å®Œæˆ! æ€§èƒ½: ${performance_rate.toFixed(0)} æ­¥/ç§’`, 'success', target);
                
                return {
                    solverName,
                    performance: performance_rate,
                    simTime: simTime_actual,
                    finalVoltage,
                    expectedVoltage: circuit.expectedFinalVoltage,
                    error: error,
                    errorPercent: parseFloat(errorPercent),
                    dataPoints: results.length
                };
                
            } else {
                throw new Error('æ²’æœ‰ç”¢ç”Ÿä»»ä½•æœ‰æ•ˆæ•¸æ“š');
            }
            
        } catch (error) {
            log(`âŒ æ¸¬è©¦å¤±æ•—: ${error.message}`, 'error', target);
            updateStatus(`âŒ æ¸¬è©¦å¤±æ•—: ${error.message}`, 'error', target);
            throw error;
        }
    }

    // æ¯”è¼ƒçµæœ
    function compareResults(cpuResult, gpuResult) {
        const comparison = document.getElementById('comparisonResult');
        
        if (cpuResult && gpuResult) {
            const speedup = gpuResult.performance / cpuResult.performance;
            const voltageMatch = Math.abs(cpuResult.finalVoltage - gpuResult.finalVoltage) < 0.01;
            
            comparison.textContent = `
ğŸ“Š æ€§èƒ½å°æ¯”çµæœ:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’» CPU æ±‚è§£å™¨:
   â±ï¸  åŸ·è¡Œæ™‚é–“: ${cpuResult.simTime.toFixed(1)}ms
   âš¡ æ€§èƒ½: ${cpuResult.performance.toFixed(0)} æ­¥/ç§’
   ğŸ“ˆ æœ€çµ‚é›»å£“: ${cpuResult.finalVoltage.toFixed(3)}V
   ğŸ“Š èª¤å·®: ${cpuResult.errorPercent.toFixed(2)}%

ğŸš€ GPU æ±‚è§£å™¨:
   â±ï¸  åŸ·è¡Œæ™‚é–“: ${gpuResult.simTime.toFixed(1)}ms  
   âš¡ æ€§èƒ½: ${gpuResult.performance.toFixed(0)} æ­¥/ç§’
   ğŸ“ˆ æœ€çµ‚é›»å£“: ${gpuResult.finalVoltage.toFixed(3)}V
   ğŸ“Š èª¤å·®: ${gpuResult.errorPercent.toFixed(2)}%

ğŸ† å°æ¯”çµæœ:
   ğŸš€ GPU åŠ é€Ÿæ¯”: ${speedup.toFixed(2)}x ${speedup > 1 ? '(GPUæ›´å¿«)' : '(CPUæ›´å¿«)'}
   âœ… é›»å£“ä¸€è‡´æ€§: ${voltageMatch ? 'âœ“ ä¸€è‡´' : 'âœ— ä¸ä¸€è‡´'}
   ğŸ“Š é›»å£“å·®ç•°: ${Math.abs(cpuResult.finalVoltage - gpuResult.finalVoltage).toFixed(4)}V

${speedup > 2 ? 'ğŸ‰ GPUé¡¯è‘—åŠ é€Ÿ!' : speedup > 1 ? 'âœ… GPUç•¥æœ‰å„ªå‹¢' : 'âš ï¸ GPUæ€§èƒ½å•é¡Œ'}
${voltageMatch ? 'âœ… æ•¸å€¼çµæœæ­£ç¢º' : 'âŒ æ•¸å€¼çµæœæœ‰å·®ç•°'}
`;
        } else if (cpuResult) {
            comparison.textContent = `åªæœ‰CPUæ¸¬è©¦çµæœ:\næ€§èƒ½: ${cpuResult.performance.toFixed(0)} æ­¥/ç§’\né›»å£“: ${cpuResult.finalVoltage.toFixed(3)}V`;
        } else if (gpuResult) {
            comparison.textContent = `åªæœ‰GPUæ¸¬è©¦çµæœ:\næ€§èƒ½: ${gpuResult.performance.toFixed(0)} æ­¥/ç§’\né›»å£“: ${gpuResult.finalVoltage.toFixed(3)}V`;
        }
    }

    // åˆå§‹åŒ–ç³»çµ±
    async function initialize() {
        try {
            log('æª¢æŸ¥ AkingSPICE åº«...');
            
            if (typeof AkingSPICE === 'undefined') {
                throw new Error('AkingSPICE åº«æœªè¼‰å…¥');
            }
            
            log('âœ… AkingSPICE åº«è¼‰å…¥æˆåŠŸ');
            log(`å¯ç”¨çµ„ä»¶: ${Object.keys(AkingSPICE).join(', ')}`);
            
            // åˆå§‹åŒ– CPU æ±‚è§£å™¨
            if (AkingSPICE.ExplicitStateSolver) {
                cpuSolver = new AkingSPICE.ExplicitStateSolver({ debug: false });
                log('âœ… CPU æ±‚è§£å™¨å‰µå»ºæˆåŠŸ');
                document.getElementById('cpuBtn').disabled = false;
            } else {
                log('âŒ ExplicitStateSolver ä¸å¯ç”¨');
            }
            
            // åˆå§‹åŒ– GPU æ±‚è§£å™¨
            if (AkingSPICE.GPUExplicitStateSolver) {
                try {
                    gpuSolver = new AkingSPICE.GPUExplicitStateSolver({ debug: false });
                    log('âœ… GPU æ±‚è§£å™¨å‰µå»ºæˆåŠŸ');
                    document.getElementById('gpuBtn').disabled = false;
                } catch (gpuError) {
                    log(`âŒ GPU æ±‚è§£å™¨å‰µå»ºå¤±æ•—: ${gpuError.message}`);
                }
            } else {
                log('âŒ GPUExplicitStateSolver ä¸å¯ç”¨');
            }
            
            // åˆå§‹åŒ–åœ–è¡¨
            cpuChart = initChart('cpuChart');
            gpuChart = initChart('gpuChart');
            
            document.getElementById('runTestBtn').disabled = false;
            isReady = true;
            log('âœ… ç³»çµ±åˆå§‹åŒ–å®Œæˆ');
            
        } catch (error) {
            log(`âŒ åˆå§‹åŒ–å¤±æ•—: ${error.message}`);
        }
    }

    // äº‹ä»¶è™•ç†
    document.getElementById('cpuBtn').addEventListener('click', async () => {
        if (cpuSolver) {
            document.getElementById('cpuBtn').disabled = true;
            try {
                const result = await runSolverTest(cpuSolver, 'CPU');
                window.lastCpuResult = result;
                if (window.lastGpuResult) {
                    compareResults(result, window.lastGpuResult);
                }
            } finally {
                document.getElementById('cpuBtn').disabled = false;
            }
        }
    });

    document.getElementById('gpuBtn').addEventListener('click', async () => {
        if (gpuSolver) {
            document.getElementById('gpuBtn').disabled = true;
            try {
                const result = await runSolverTest(gpuSolver, 'GPU');
                window.lastGpuResult = result;
                if (window.lastCpuResult) {
                    compareResults(window.lastCpuResult, result);
                }
            } finally {
                document.getElementById('gpuBtn').disabled = false;
            }
        }
    });

    document.getElementById('runTestBtn').addEventListener('click', async () => {
        if (!isReady) return;
        
        document.getElementById('runTestBtn').disabled = true;
        
        try {
            // æ¸…ç©ºä¹‹å‰çš„çµæœ
            document.getElementById('cpuLog').textContent = '';
            document.getElementById('gpuLog').textContent = '';
            window.lastCpuResult = null;
            window.lastGpuResult = null;
            
            // ä¾åºæ¸¬è©¦
            if (cpuSolver) {
                log('é–‹å§‹CPUæ¸¬è©¦...', 'info', 'cpu');
                const cpuResult = await runSolverTest(cpuSolver, 'CPU');
                window.lastCpuResult = cpuResult;
            }
            
            if (gpuSolver) {
                log('é–‹å§‹GPUæ¸¬è©¦...', 'info', 'gpu');
                const gpuResult = await runSolverTest(gpuSolver, 'GPU');
                window.lastGpuResult = gpuResult;
            }
            
            // æ¯”è¼ƒçµæœ
            if (window.lastCpuResult || window.lastGpuResult) {
                compareResults(window.lastCpuResult, window.lastGpuResult);
            }
            
        } catch (error) {
            log(`æ¸¬è©¦éç¨‹ç™¼ç”ŸéŒ¯èª¤: ${error.message}`);
        } finally {
            document.getElementById('runTestBtn').disabled = false;
        }
    });

    // å•Ÿå‹•åˆå§‹åŒ–
    await initialize();
});
</script>

</body>
</html>