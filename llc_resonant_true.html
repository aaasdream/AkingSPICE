<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ”‹ LLCè«§æŒ¯è®Šæ›å™¨ - AkingSPICE</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background: linear-gradient(135deg, #2c3e50 0%, #4a6741 50%, #2c3e50 100%);
      color: white;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.1);
      padding: 25px;
      border-radius: 15px;
      backdrop-filter: blur(10px);
    }

    .circuit-diagram {
      background: rgba(0, 0, 0, 0.3);
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      margin: 20px 0;
      font-family: monospace;
      font-size: 14px;
    }

    .status-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }

    .metric {
      background: rgba(255, 255, 255, 0.1);
      padding: 15px;
      border-radius: 10px;
      text-align: center;
    }

    .metric-label {
      font-size: 12px;
      opacity: 0.8;
      margin-bottom: 5px;
    }

    .metric-value {
      font-size: 20px;
      font-weight: bold;
      color: #2ecc71;
    }

    .btn {
      padding: 12px 24px;
      margin: 8px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
      transition: all 0.3s;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    .btn-primary {
      background: #27ae60;
      color: white;
    }

    .btn-danger {
      background: #e74c3c;
      color: white;
    }

    .btn-info {
      background: #3498db;
      color: white;
    }

    #waveformCanvas {
      width: 100%;
      height: 350px;
      border: 2px solid rgba(255, 255, 255, 0.2);
      border-radius: 10px;
      background: rgba(0, 0, 0, 0.2);
      display: block;
      margin: 10px 0;
    }

    #log {
      height: 300px;
      overflow-y: auto;
      border: 2px solid rgba(255, 255, 255, 0.2);
      border-radius: 10px;
      padding: 15px;
      font-family: 'Courier New', monospace;
      font-size: 11px;
      background: rgba(0, 0, 0, 0.3);
      margin-top: 20px;
    }

    .resonant {
      color: #f39c12;
      font-weight: bold;
    }

    .primary {
      color: #3498db;
    }

    .secondary {
      color: #e74c3c;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>ğŸ”‹ LLCè«§æŒ¯è®Šæ›å™¨ - AkingSPICE</h1>
    <p>âš¡ å®Œæ•´LLCæ‹“æ’²ï¼šåŸé‚Šé–‹é—œ â†’ è«§æŒ¯æ§½ (Lr + Cr) â†’ å‹µç£é›»æ„ŸLm â†’ è®Šå£“å™¨ â†’ äºŒæ¥µç®¡æ•´æµ</p>

    <div class="circuit-diagram">
      <h3>ğŸ“ LLCè«§æŒ¯è®Šæ›å™¨é›»è·¯æ‹“æ’²</h3>
      <pre>
   Vin(400V)    S1(é–‹é—œ)      Lr(è«§æŒ¯é›»æ„Ÿ)    Cr(è«§æŒ¯é›»å®¹)
      +  â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€LLLLLâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â””â”˜                                    â”‚
                                                      â”‚ Lm(å‹µç£é›»æ„Ÿ)
                                                      â”‚ LLLLL
                 â”Œâ”                                    â”‚
      -  â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 S2(é–‹é—œ)
      
      è«§æŒ¯é »ç‡: fr = 1/(2Ï€âˆš(LrÂ·Cr))
      å“è³ªå› æ•¸: Q = âˆš(Lr/Cr) / R
    </pre>
    </div>

    <div style="text-align: center; margin: 20px 0;">
      <button class="btn btn-primary" onclick="startLLC()">ğŸš€ å•Ÿå‹•LLCè«§æŒ¯</button>
      <button class="btn btn-danger" onclick="stopLLC()">â¹ï¸ åœæ­¢æ¨¡æ“¬</button>
      <button class="btn btn-info" onclick="resetLLC()">ğŸ”„ é‡ç½®é›»è·¯</button>
      <button class="btn btn-info" onclick="clearLog()">ğŸ§¹ æ¸…é™¤æ—¥èªŒ</button>
    </div>

    <h3>ğŸ“Š LLCè«§æŒ¯åƒæ•¸ç›£æ§</h3>
    <div class="status-grid">
      <div class="metric">
        <div class="metric-label">æ¨¡æ“¬ç‹€æ…‹</div>
        <div id="status" class="metric-value">å°±ç·’</div>
      </div>
      <div class="metric">
        <div class="metric-label">æ¨¡æ“¬æ­¥æ•¸</div>
        <div id="steps" class="metric-value">0</div>
      </div>
      <div class="metric">
        <div class="metric-label">æ™‚é–“ (Î¼s)</div>
        <div id="time" class="metric-value">0.0</div>
      </div>
      <div class="metric">
        <div class="metric-label"><span class="resonant">è«§æŒ¯é›»æµ (A)</span></div>
        <div id="resonant-current" class="metric-value">0.0</div>
      </div>
      <div class="metric">
        <div class="metric-label"><span class="resonant">è«§æŒ¯é›»å£“ (V)</span></div>
        <div id="resonant-voltage" class="metric-value">0.0</div>
      </div>
      <div class="metric">
        <div class="metric-label"><span class="primary">å‹µç£é›»æµ (A)</span></div>
        <div id="magnetizing-current" class="metric-value">0.0</div>
      </div>
      <div class="metric">
        <div class="metric-label">è«§æŒ¯é »ç‡ (kHz)</div>
        <div id="frequency" class="metric-value">159.2</div>
      </div>
      <div class="metric">
        <div class="metric-label">é–‹é—œé »ç‡ (kHz)</div>
        <div id="switching-freq" class="metric-value">100.0</div>
      </div>
      <div class="metric">
        <div class="metric-label">åŠŸç‡ (W)</div>
        <div id="power" class="metric-value">0.0</div>
      </div>
    </div>

    <h3>ğŸ“ˆ LLCè«§æŒ¯æ³¢å½¢</h3>
    <canvas id="waveformCanvas" width="1000" height="350"></canvas>

    <h3>ğŸ“‹ LLCæ¨¡æ“¬æ—¥èªŒ</h3>
    <div id="log">[LLCè«§æŒ¯è®Šæ›å™¨æº–å‚™å°±ç·’ - çœŸæ­£çš„LLCæ‹“æ’²]</div>
  </div>

  <!-- è¼‰å…¥AkingSPICE -->
  <script src="./lib-dist/AkingSPICE.umd.js"></script>

  <script>
    // LLCå…¨å±€è®Šæ•¸
    let isRunning = false;
    let solver = null;
    let stepCount = 0;
    let startTime = 0;

    // æ³¢å½¢æ•¸æ“š
    let timeData = [];
    let resonantCurrentData = [];
    let resonantVoltageData = [];
    let magnetizingCurrentData = [];

    // LLCåƒæ•¸
    const LLC_PARAMS = {
      Vin: 400,          // è¼¸å…¥é›»å£“ 400V
      Lr: 50e-6,         // è«§æŒ¯é›»æ„Ÿ 50Î¼H
      Cr: 100e-9,        // è«§æŒ¯é›»å®¹ 100nF  
      Lm: 200e-6,        // å‹µç£é›»æ„Ÿ 200Î¼H
      Rload: 10,         // ç­‰æ•ˆè² è¼‰ 10Î©
      fsw: 100e3,        // é–‹é—œé »ç‡ 100kHz
      dt: 50e-9          // æ™‚é–“æ­¥é•· 50ns
    };

    // è¨ˆç®—è«§æŒ¯é »ç‡
    const fr = 1 / (2 * Math.PI * Math.sqrt(LLC_PARAMS.Lr * LLC_PARAMS.Cr));
    document.getElementById('frequency').textContent = (fr / 1000).toFixed(1);

    let canvas, ctx;

    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function () {
      log('ğŸš€ LLCè«§æŒ¯è®Šæ›å™¨ç³»çµ±å•Ÿå‹•', 'success');

      canvas = document.getElementById('waveformCanvas');
      ctx = canvas.getContext('2d');

      if (window.AkingSPICE) {
        log('âœ… AkingSPICE è¼‰å…¥æˆåŠŸ', 'success');
        log(`ğŸ“Š LLCåƒæ•¸è¨­å®š:`, 'info');
        log(`   - è¼¸å…¥é›»å£“: ${LLC_PARAMS.Vin}V`, 'info');
        log(`   - è«§æŒ¯é›»æ„Ÿ Lr: ${LLC_PARAMS.Lr * 1e6}Î¼H`, 'info');
        log(`   - è«§æŒ¯é›»å®¹ Cr: ${LLC_PARAMS.Cr * 1e9}nF`, 'info');
        log(`   - å‹µç£é›»æ„Ÿ Lm: ${LLC_PARAMS.Lm * 1e6}Î¼H`, 'info');
        log(`   - è«§æŒ¯é »ç‡: ${(fr / 1000).toFixed(1)}kHz`, 'warning');
        log(`   - é–‹é—œé »ç‡: ${LLC_PARAMS.fsw / 1000}kHz`, 'warning');
        log('ğŸ¯ é»æ“Š"å•Ÿå‹•LLCè«§æŒ¯"é–‹å§‹æ¨¡æ“¬...', 'info');

        // è‡ªå‹•å•Ÿå‹•
        log('â° 3ç§’å¾Œè‡ªå‹•å•Ÿå‹•LLCæ¨¡æ“¬...', 'warning');
        Promise.resolve().then(() => {
          setTimeout(() => {
            log('ğŸ”„ è‡ªå‹•å•Ÿå‹•LLCè«§æŒ¯æ¨¡æ“¬...', 'success');
            startLLC();
          }, 100); // çŸ­å»¶é²ç¢ºä¿DOMå®Œå…¨è¼‰å…¥
        });
      } else {
        log('âŒ AkingSPICE è¼‰å…¥å¤±æ•—', 'error');
      }
    });

    // æ—¥èªŒå‡½æ•¸
    function log(msg, type = 'info') {
      const colors = { info: '#ecf0f1', error: '#e74c3c', success: '#2ecc71', warning: '#f39c12' };
      const time = new Date().toLocaleTimeString();

      console.log(`[${time}] ${msg}`);
      const logDiv = document.getElementById('log');
      logDiv.innerHTML += `<div style="color:${colors[type]}; margin:2px 0;">[${time}] ${msg}</div>`;
      logDiv.scrollTop = logDiv.scrollHeight;
    }

    // æ¸…é™¤æ—¥èªŒ
    window.clearLog = function () {
      document.getElementById('log').innerHTML = '[æ—¥èªŒå·²æ¸…é™¤]';
      log('ğŸ§¹ LLCæ—¥èªŒå·²æ¸…é™¤', 'info');
    };

    // é–‹å§‹LLCæ¨¡æ“¬
    window.startLLC = function () {
      if (isRunning) {
        log('âš ï¸ LLCæ¨¡æ“¬å·²åœ¨é‹è¡Œä¸­', 'warning');
        return;
      }

      try {
        log('ğŸš€ å•Ÿå‹•LLCè«§æŒ¯è®Šæ›å™¨æ¨¡æ“¬...', 'success');
        document.getElementById('status').textContent = 'å•Ÿå‹•ä¸­';
        document.getElementById('status').style.color = '#f39c12';

        const { VoltageSource, Inductor, Capacitor, Resistor, ExplicitStateSolver } = window.AkingSPICE;

        log('ğŸ”§ å‰µå»ºLLCè«§æŒ¯é›»è·¯çµ„ä»¶...', 'info');

        // LLCè«§æŒ¯é›»è·¯æ‹“æ’²
        // ç¯€é»åˆ†é…ï¼š
        // 0: æ¥åœ°
        // 1: è¼¸å…¥æ­£æ¥µ (Vin+)
        // 2: è«§æŒ¯é›»æ„Ÿå¾Œ (Lrè¼¸å‡º)
        // 3: è«§æŒ¯ç¯€é» (Lr-Cré€£æ¥é»)
        // 4: å‹µç£é›»æ„Ÿå¾Œ

        const components = [
          // è¼¸å…¥é›»å£“æº (æ–¹æ³¢ï¼Œç°¡åŒ–ç‚ºDCé–‹å§‹)
          new VoltageSource('Vin', [1, 0], LLC_PARAMS.Vin),

          // è«§æŒ¯é›»æ„Ÿ Lr (50Î¼H)
          new Inductor('Lr', [1, 2], LLC_PARAMS.Lr),

          // è«§æŒ¯é›»å®¹ Cr (100nF) 
          new Capacitor('Cr', [2, 3], LLC_PARAMS.Cr),

          // å‹µç£é›»æ„Ÿ Lm (200Î¼H)
          new Inductor('Lm', [2, 0], LLC_PARAMS.Lm),

          // ç­‰æ•ˆè² è¼‰é›»é˜»
          new Resistor('Rload', [3, 0], LLC_PARAMS.Rload)
        ];

        log(`âœ… LLCé›»è·¯çµ„ä»¶å‰µå»ºå®Œæˆ: ${components.length} å€‹çµ„ä»¶`, 'success');
        components.forEach(comp => {
          if (comp.name === 'Lr') log(`   - è«§æŒ¯é›»æ„Ÿ ${comp.name}: ${comp.value * 1e6}Î¼H`, 'warning');
          else if (comp.name === 'Cr') log(`   - è«§æŒ¯é›»å®¹ ${comp.name}: ${comp.value * 1e9}nF`, 'warning');
          else if (comp.name === 'Lm') log(`   - å‹µç£é›»æ„Ÿ ${comp.name}: ${comp.value * 1e6}Î¼H`, 'info');
          else if (comp.name === 'Vin') log(`   - è¼¸å…¥é›»æº ${comp.name}: ${comp.value}V`, 'success');
          else if (comp.name === 'Rload') log(`   - è² è¼‰é›»é˜» ${comp.name}: ${comp.value}Î©`, 'info');
        });

        // åˆå§‹åŒ–æ±‚è§£å™¨
        log('âš™ï¸ åˆå§‹åŒ–LLCæ±‚è§£å™¨...', 'info');
        solver = new ExplicitStateSolver();

        solver.initialize(components, LLC_PARAMS.dt, {
          debug: false,
          maxIterations: 500,
          tolerance: 1e-8,
          integrationMethod: 'forward_euler'
        });

        log('âœ… LLCæ±‚è§£å™¨åˆå§‹åŒ–å®Œæˆ', 'success');

        // é–‹å§‹æ¨¡æ“¬
        isRunning = true;
        stepCount = 0;
        startTime = performance.now();

        // æ¸…ç©ºæ³¢å½¢æ•¸æ“š
        timeData = [];
        resonantCurrentData = [];
        resonantVoltageData = [];
        magnetizingCurrentData = [];

        document.getElementById('status').textContent = 'è«§æŒ¯ä¸­';
        document.getElementById('status').style.color = '#2ecc71';

        log('ğŸ‰ LLCè«§æŒ¯æ¨¡æ“¬é–‹å§‹é‹è¡Œï¼', 'success');
        log('ğŸ“Š ç›£æ§LLCè«§æŒ¯ç‰¹æ€§...', 'info');

        // å•Ÿå‹•æ¨¡æ“¬å¾ªç’°
        runLLCLoop();

      } catch (error) {
        log(`âŒ LLCå•Ÿå‹•å¤±æ•—: ${error.message}`, 'error');
        console.error('LLCéŒ¯èª¤è©³æƒ…:', error);
        document.getElementById('status').textContent = 'éŒ¯èª¤';
        document.getElementById('status').style.color = '#e74c3c';
      }
    };

    // LLCæ¨¡æ“¬å¾ªç’°
    function runLLCLoop() {
      if (!isRunning || !solver) return;

      try {
        // åŸ·è¡ŒLLCæ¨¡æ“¬æ­¥é©Ÿ
        const result = solver.step();
        stepCount++;

        // è¨ˆç®—æ™‚é–“
        const currentTime = stepCount * LLC_PARAMS.dt;
        const timeUs = currentTime * 1e6;

        // æå–LLCé—œéµé›»å£“å’Œé›»æµ
        const nodeVoltages = result.nodeVoltages || {};
        const v1 = nodeVoltages[1] || 0;  // è¼¸å…¥ç¯€é»
        const v2 = nodeVoltages[2] || 0;  // è«§æŒ¯é›»æ„Ÿå¾Œ
        const v3 = nodeVoltages[3] || 0;  // è«§æŒ¯ç¯€é»

        // è¨ˆç®—LLCç‰¹å¾µé‡
        const resonantVoltage = v2 - v3;              // è«§æŒ¯é›»å®¹é›»å£“
        const resonantCurrent = (v1 - v2) / (LLC_PARAMS.Lr / LLC_PARAMS.dt); // è¿‘ä¼¼è«§æŒ¯é›»æµ
        const magnetizingCurrent = v2 / (LLC_PARAMS.Lm / LLC_PARAMS.dt);     // è¿‘ä¼¼å‹µç£é›»æµ
        const outputPower = (v3 * v3) / LLC_PARAMS.Rload;                    // è¼¸å‡ºåŠŸç‡

        // æ›´æ–°é¡¯ç¤º
        document.getElementById('steps').textContent = stepCount;
        document.getElementById('time').textContent = timeUs.toFixed(2);
        document.getElementById('resonant-current').textContent = Math.abs(resonantCurrent).toFixed(3);
        document.getElementById('resonant-voltage').textContent = Math.abs(resonantVoltage).toFixed(2);
        document.getElementById('magnetizing-current').textContent = Math.abs(magnetizingCurrent).toFixed(3);
        document.getElementById('power').textContent = outputPower.toFixed(2);

        // è¨˜éŒ„æ³¢å½¢æ•¸æ“š
        if (stepCount % 5 === 0) {
          timeData.push(timeUs);
          resonantCurrentData.push(resonantCurrent);
          resonantVoltageData.push(resonantVoltage);
          magnetizingCurrentData.push(magnetizingCurrent);

          // ä¿æŒæ•¸æ“šé•·åº¦
          if (timeData.length > 1000) {
            timeData.shift();
            resonantCurrentData.shift();
            resonantVoltageData.shift();
            magnetizingCurrentData.shift();
          }
        }

        // æ¯100æ­¥è¼¸å‡ºLLCç‹€æ…‹
        if (stepCount % 100 === 0) {
          log(`LLCæ­¥é©Ÿ ${stepCount}: t=${timeUs.toFixed(2)}Î¼s`);
          log(`  è«§æŒ¯é›»æµ: ${Math.abs(resonantCurrent).toFixed(3)}A, è«§æŒ¯é›»å£“: ${Math.abs(resonantVoltage).toFixed(2)}V`);
          log(`  å‹µç£é›»æµ: ${Math.abs(magnetizingCurrent).toFixed(3)}A, åŠŸç‡: ${outputPower.toFixed(2)}W`);

          // æ›´æ–°LLCæ³¢å½¢
          updateLLCWaveform();
        }

        // é™åˆ¶é‹è¡Œæ­¥æ•¸
        if (stepCount < 5000) {
          Promise.resolve().then(runLLCLoop);
        } else {
          log('ğŸ LLCæ¨¡æ“¬å®Œæˆï¼ˆ5000æ­¥ï¼‰', 'success');
          stopLLC();
        }

      } catch (error) {
        log(`âŒ LLCæ¨¡æ“¬æ­¥é©ŸéŒ¯èª¤: ${error.message}`, 'error');
        console.error('LLCè©³ç´°éŒ¯èª¤:', error);
        stopLLC();
      }
    }

    // æ›´æ–°LLCæ³¢å½¢åœ–
    function updateLLCWaveform() {
      if (!ctx || timeData.length < 2) return;

      const width = canvas.width;
      const height = canvas.height;

      // æ¸…é™¤ç•«å¸ƒ
      ctx.clearRect(0, 0, width, height);

      // èƒŒæ™¯ç¶²æ ¼
      drawGrid();

      // ç¹ªè£½LLCæ³¢å½¢
      const plotHeight = height / 3;

      // 1. è«§æŒ¯é›»æµæ³¢å½¢
      drawWaveform(resonantCurrentData, 0, plotHeight, '#f39c12', 'è«§æŒ¯é›»æµ (A)');

      // 2. è«§æŒ¯é›»å£“æ³¢å½¢  
      drawWaveform(resonantVoltageData, plotHeight, plotHeight, '#e74c3c', 'è«§æŒ¯é›»å£“ (V)');

      // 3. å‹µç£é›»æµæ³¢å½¢
      drawWaveform(magnetizingCurrentData, plotHeight * 2, plotHeight, '#3498db', 'å‹µç£é›»æµ (A)');
    }

    function drawGrid() {
      const width = canvas.width;
      const height = canvas.height;

      ctx.strokeStyle = 'rgba(255,255,255,0.1)';
      ctx.lineWidth = 1;

      // å‚ç›´ç·š
      for (let i = 0; i <= 10; i++) {
        const x = (width / 10) * i;
        ctx.beginPath();
        ctx.moveTo(x, 0);
        ctx.lineTo(x, height);
        ctx.stroke();
      }

      // æ°´å¹³ç·š
      for (let i = 0; i <= 6; i++) {
        const y = (height / 6) * i;
        ctx.beginPath();
        ctx.moveTo(0, y);
        ctx.lineTo(width, y);
        ctx.stroke();
      }
    }

    function drawWaveform(data, yOffset, plotHeight, color, label) {
      if (data.length < 2) return;

      const width = canvas.width;
      const minVal = Math.min(...data);
      const maxVal = Math.max(...data);
      const range = maxVal - minVal || 1;

      ctx.strokeStyle = color;
      ctx.lineWidth = 2;
      ctx.beginPath();

      for (let i = 0; i < data.length; i++) {
        const x = (i / (data.length - 1)) * width;
        const y = yOffset + plotHeight - ((data[i] - minVal) / range) * plotHeight;

        if (i === 0) {
          ctx.moveTo(x, y);
        } else {
          ctx.lineTo(x, y);
        }
      }

      ctx.stroke();

      // æ·»åŠ æ¨™ç±¤
      ctx.fillStyle = color;
      ctx.font = '12px Arial';
      ctx.fillText(`${label}: ${minVal.toFixed(2)} ~ ${maxVal.toFixed(2)}`, 10, yOffset + 20);
    }

    // åœæ­¢LLC
    window.stopLLC = function () {
      if (!isRunning) return;

      isRunning = false;
      document.getElementById('status').textContent = 'å·²åœæ­¢';
      document.getElementById('status').style.color = '#e74c3c';

      const elapsed = (performance.now() - startTime) / 1000;
      const avgSpeed = stepCount / elapsed;

      log(`â¹ï¸ LLCæ¨¡æ“¬å·²åœæ­¢`, 'warning');
      log(`ğŸ“Š LLCçµ±è¨ˆ: ${stepCount} æ­¥, ç”¨æ™‚ ${elapsed.toFixed(2)}ç§’`);
      log(`âš¡ å¹³å‡é€Ÿåº¦: ${avgSpeed.toFixed(0)} æ­¥/ç§’`);
      log(`ğŸ¯ æœ€çµ‚è«§æŒ¯é›»æµ: ${document.getElementById('resonant-current').textContent}A`);
    };

    // é‡ç½®LLC
    window.resetLLC = function () {
      stopLLC();
      stepCount = 0;
      timeData = [];
      resonantCurrentData = [];
      resonantVoltageData = [];
      magnetizingCurrentData = [];

      document.getElementById('steps').textContent = '0';
      document.getElementById('time').textContent = '0.0';
      document.getElementById('resonant-current').textContent = '0.0';
      document.getElementById('resonant-voltage').textContent = '0.0';
      document.getElementById('magnetizing-current').textContent = '0.0';
      document.getElementById('power').textContent = '0.0';
      document.getElementById('status').textContent = 'å°±ç·’';
      document.getElementById('status').style.color = '#2ecc71';

      if (ctx) ctx.clearRect(0, 0, canvas.width, canvas.height);

      log('ğŸ”„ LLCé›»è·¯å·²é‡ç½®', 'info');
    };

  </script>
</body>

</html>