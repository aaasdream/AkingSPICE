# JSSolver-PE (JavaScript Solver for Power Electronics)

ä¸€å€‹å°ˆç‚ºå‹•æ…‹é›»è·¯æ¨¡æ“¬è¨­è¨ˆçš„ç´” JavaScript å‡½å¼åº«ï¼Œç‰¹åˆ¥é‡å°å«æœ‰é »ç¹é–‹é—œäº‹ä»¶çš„é›»åŠ›é›»å­é›»è·¯ã€‚

## ğŸ¯ å°ˆæ¡ˆé¡˜æ™¯

JSSolver-PE æä¾›ä¸€å€‹é«˜æ•ˆã€ç©©å®šä¸”æ˜“æ–¼æ•´åˆçš„æ±‚è§£å™¨ï¼Œå…·å‚™ä»¥ä¸‹ç‰¹è‰²ï¼š

- **æ•ˆèƒ½å„ªå…ˆ**: é‡å°æ™‚åŸŸæš«æ…‹åˆ†æé€²è¡Œæ·±åº¦å„ªåŒ–
- **æ§åˆ¶å°å‘**: æä¾›äº’å‹•å¼ APIï¼Œå…è¨±å¤–éƒ¨ç¨‹å¼å³æ™‚è®€å–é›»è·¯ç‹€æ…‹ä¸¦æ”¹è®Šå…ƒä»¶åƒæ•¸
- **æ¨¡çµ„åŒ–è¨­è¨ˆ**: å…ƒä»¶æ¨¡å‹èˆ‡æ±‚è§£å™¨æ ¸å¿ƒåˆ†é›¢ï¼Œæ”¯æ´è‡ªè¨‚å…ƒä»¶
- **SPICE ç›¸å®¹**: è¼¸å…¥ç¶²è¡¨æ ¼å¼èˆ‡å‚³çµ± SPICE æ¨™æº–ä¿æŒä¸€è‡´

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å®‰è£ä¾è³´
```bash
npm install
```

### åŸ·è¡Œç¯„ä¾‹
```bash
npm run example
```

### åŸ·è¡Œæ¸¬è©¦
```bash
npm test
```

## ğŸ“‹ åŠŸèƒ½ç‰¹è‰²

### v0.1 (ç•¶å‰ç‰ˆæœ¬)
- âœ… ä¿®æ­£ç¯€é»åˆ†ææ³• (MNA) çŸ©é™£å»ºç«‹
- âœ… LU åˆ†è§£ç·šæ€§æ±‚è§£å™¨
- âœ… åŸºç¤å…ƒä»¶æ¨¡å‹ (R, C, L, VDC)
- âœ… å¾Œå‘æ­æ‹‰æš«æ…‹åˆ†æ
- âœ… æ‰¹æ¬¡æ¨¡æ“¬ API

### v0.2 (è¦åŠƒä¸­)
- ğŸ”„ ç†æƒ³é–‹é—œæ¨¡å‹ (D, M)
- ğŸ”„ äº’å‹•å¼/æ­¥é€²å¼ API
- ğŸ”„ å¤–éƒ¨å¯æ§ MOSFET æ¨¡å‹

## ğŸ— å°ˆæ¡ˆæ¶æ§‹

```
jssolver-pe/
â”œâ”€â”€ src/                    # æ ¸å¿ƒç¨‹å¼ç¢¼
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒæ¼”ç®—æ³•
â”‚   â”‚   â”œâ”€â”€ solver.js      # ä¸»æ±‚è§£å™¨é¡åˆ¥
â”‚   â”‚   â”œâ”€â”€ mna.js         # ä¿®æ­£ç¯€é»åˆ†ææ³•
â”‚   â”‚   â””â”€â”€ linalg.js      # ç·šæ€§ä»£æ•¸é‹ç®—
â”‚   â”œâ”€â”€ components/        # å…ƒä»¶æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ base.js        # åŸºç¤å…ƒä»¶é¡åˆ¥
â”‚   â”‚   â”œâ”€â”€ resistor.js    # é›»é˜»æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ capacitor.js   # é›»å®¹æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ inductor.js    # é›»æ„Ÿæ¨¡å‹
â”‚   â”‚   â””â”€â”€ sources.js     # é›»å£“/é›»æµæº
â”‚   â”œâ”€â”€ analysis/          # åˆ†ææ¼”ç®—æ³•
â”‚   â”‚   â”œâ”€â”€ transient.js   # æš«æ…‹åˆ†æ
â”‚   â”‚   â””â”€â”€ dc.js          # ç›´æµå·¥ä½œé»åˆ†æ
â”‚   â”œâ”€â”€ parser/            # ç¶²è¡¨è§£æ
â”‚   â”‚   â””â”€â”€ netlist.js     # SPICE ç¶²è¡¨è§£æå™¨
â”‚   â””â”€â”€ index.js           # ä¸»å…¥å£
â”œâ”€â”€ test/                  # æ¸¬è©¦æª”æ¡ˆ
â”œâ”€â”€ examples/              # ç¯„ä¾‹ç¨‹å¼
â””â”€â”€ docs/                  # æ–‡ä»¶
```

## ğŸ“– ä½¿ç”¨ç¯„ä¾‹

### æ‰¹æ¬¡æ¨¡æ“¬ API

```javascript
import JSSolverPE from './src/index.js';

// ç°¡å–® RC é›»è·¯ç¶²è¡¨
const netlist = `
* Simple RC Circuit
VIN 1 0 DC(5)
R1 1 2 1000
C1 2 0 1e-6
.tran 1us 5ms
`;

// å»ºç«‹æ±‚è§£å™¨ä¸¦åŸ·è¡Œåˆ†æ
const solver = new JSSolverPE(netlist);
const result = await solver.runAnalysis('.tran 1us 5ms');

// ç²å–çµæœ
const time = result.getVector('time');
const v_out = result.getVector('V(2)');
```

### äº’å‹•å¼ API (v0.2)

```javascript
// åˆå§‹åŒ–æ±‚è§£å™¨
const solver = new JSSolverPE(netlist);
solver.initTransient('1us', '5ms');

// æ¨¡æ“¬è¿´åœˆ
while (!solver.isFinished()) {
    // è®€å–é›»è·¯ç‹€æ…‹
    const voltage = solver.getNodeVoltage('N_FEEDBACK');
    
    // æ§åˆ¶é‚è¼¯
    const gateState = myController.update(voltage);
    solver.setComponentState('M1', { gate: gateState });
    
    // åŸ·è¡Œä¸‹ä¸€æ­¥
    solver.step();
}
```

## ğŸ§ª æ¸¬è©¦

å°ˆæ¡ˆåŒ…å«å®Œæ•´çš„æ¸¬è©¦å¥—ä»¶ï¼Œé©—è­‰å„å€‹æ¨¡çµ„çš„æ­£ç¢ºæ€§ï¼š

```bash
npm test                    # åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
npm run test:watch         # ç›£æ§æ¨¡å¼åŸ·è¡Œæ¸¬è©¦
```

## ğŸ“ˆ é–‹ç™¼è·¯ç·šåœ–

- **v0.1**: æ ¸å¿ƒ MNA æ±‚è§£å™¨èˆ‡åŸºç¤å…ƒä»¶ âœ…
- **v0.2**: ç†æƒ³é–‹é—œæ¨¡å‹èˆ‡äº’å‹•å¼ API
- **v0.3**: æ›´å¤šè¨Šè™Ÿæºèˆ‡å—æ§æº
- **v1.0**: å¯è®Šæ™‚é–“æ­¥é•·èˆ‡éç·šæ€§æ±‚è§£å™¨

## ğŸ¤ è²¢ç»

æ­¡è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ æˆæ¬Š

MIT License - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆã€‚

---

## ğŸ”§ JavaScript èª¿è©¦å·¥å…·

æœ¬å°ˆæ¡ˆé‚„åŒ…å«å®Œæ•´çš„ JavaScript èª¿è©¦ç’°å¢ƒï¼š

### æ–‡ä»¶èªªæ˜

1. **`index.html`** - ç€è¦½å™¨ç‰ˆæœ¬çš„JavaScriptæ¸¬è©¦é é¢
2. **`debug-test.js`** - Node.jsç‰ˆæœ¬çš„JavaScriptæ¸¬è©¦è…³æœ¬  
3. **`.vscode/launch.json`** - VS Codeèª¿è©¦é…ç½®

### èª¿è©¦å·¥å…·ä½¿ç”¨æ–¹æ³•

#### æ–¹æ³•1: ç€è¦½å™¨æ¸¬è©¦ï¼ˆæ¨è–¦ï¼‰
1. åœ¨VS Codeä¸­å³éµé»æ“Š `index.html`
2. é¸æ“‡ "åœ¨é»˜èªç€è¦½å™¨ä¸­æ‰“é–‹"
3. é»æ“Šé é¢ä¸Šçš„æŒ‰éˆ•é€²è¡Œæ¸¬è©¦
4. æŸ¥çœ‹è‡ªå‹•è¼¸å‡ºçµæœï¼Œç„¡éœ€æ‰“é–‹Console

#### æ–¹æ³•2: Node.jsæ¸¬è©¦
```bash
node debug-test.js
```

#### æ–¹æ³•3: VS Codeèª¿è©¦
1. æŒ‰F5é¸æ“‡èª¿è©¦é…ç½®
2. æ”¯æ´æ–·é»èª¿è©¦å’Œè®Šæ•¸æª¢è¦–